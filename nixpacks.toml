[phases.setup]
cmds = [
    "curl -L https://dot.net/v1/dotnet-install.sh -o dotnet-install.sh",
    "chmod +x dotnet-install.sh",
    "./dotnet-install.sh -c 8.0 -i /opt/dotnet"
]

[phases.build]
cmds = [
    "export PATH=$PATH:/opt/dotnet",
    "dotnet restore",
    "dotnet publish -c Release -o /app"
]

[start]
cmd = "cd /app && dotnet BibliotecaWeb.dll"

[environment]
ASPNETCORE_ENVIRONMENT = "Production"
PATH = "/opt/dotnet:$PATH"